<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feature Test - Moroccan Qamis</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background: #f5f5f5;
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 { color: #2A7C5B; margin-bottom: 2rem; }
    .test-section {
      background: white;
      padding: 2rem;
      margin-bottom: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .test-section h2 {
      color: #2A7C5B;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #2A7C5B;
    }
    .status {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: bold;
      margin-left: 1rem;
    }
    .status.pass { background: #d4edda; color: #155724; }
    .status.fail { background: #f8d7da; color: #721c24; }
    .status.pending { background: #fff3cd; color: #856404; }
    .test-item {
      padding: 1rem;
      margin: 0.5rem 0;
      background: #f8f9fa;
      border-left: 4px solid #2A7C5B;
      border-radius: 4px;
    }
    .test-item.fail { border-left-color: #dc3545; }
    button {
      background: #2A7C5B;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      margin: 0.5rem 0.5rem 0.5rem 0;
      font-size: 1rem;
    }
    button:hover { background: #236B4D; }
    .result { margin-top: 1rem; padding: 1rem; background: #e9ecef; border-radius: 4px; }
    code {
      background: #f8f9fa;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-family: monospace;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }
    .card {
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 4px;
      text-align: center;
    }
    .card a {
      display: block;
      margin-top: 0.5rem;
      color: #2A7C5B;
      text-decoration: none;
      font-weight: bold;
    }
    .card a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>üß™ Moroccan Qamis - Feature Test Suite</h1>

  <div class="test-section">
    <h2>üìÑ Page Availability <span class="status pass" id="pages-status">PASS</span></h2>
    <p>All pages should be accessible and load without errors.</p>
    <div class="grid">
      <div class="card">
        <strong>Homepage</strong>
        <a href="index.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>Shop</strong>
        <a href="shop.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>Product</strong>
        <a href="product.html?id=1" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>Cart</strong>
        <a href="cart.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>Checkout</strong>
        <a href="checkout.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>About</strong>
        <a href="about.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>Contact</strong>
        <a href="contact.html" target="_blank">Open ‚Üí</a>
      </div>
      <div class="card">
        <strong>FAQ</strong>
        <a href="faq.html" target="_blank">Open ‚Üí</a>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h2>üóÇÔ∏è Data Files <span class="status pending" id="data-status">TESTING</span></h2>
    <p>Testing if JSON data files load correctly.</p>
    <button onclick="testDataFiles()">Run Test</button>
    <div class="result" id="data-result" style="display:none;"></div>
  </div>

  <div class="test-section">
    <h2>üåç Language System <span class="status pending" id="lang-status">TESTING</span></h2>
    <p>Testing bilingual functionality (EN/AR).</p>
    <button onclick="testLanguage()">Test Language Switch</button>
    <div class="result" id="lang-result" style="display:none;"></div>
  </div>

  <div class="test-section">
    <h2>üõí Shopping Cart <span class="status pending" id="cart-status">TESTING</span></h2>
    <p>Testing cart functionality and localStorage.</p>
    <button onclick="testCart()">Test Cart Operations</button>
    <button onclick="clearCart()">Clear Cart</button>
    <div class="result" id="cart-result" style="display:none;"></div>
  </div>

  <div class="test-section">
    <h2>üñºÔ∏è Images <span class="status pending" id="images-status">TESTING</span></h2>
    <p>Testing if placeholder images load correctly.</p>
    <button onclick="testImages()">Test Images</button>
    <div class="result" id="images-result" style="display:none;"></div>
  </div>

  <div class="test-section">
    <h2>üì± Responsive Design</h2>
    <p>Resize your browser window to test responsive breakpoints:</p>
    <div class="test-item">
      <strong>Desktop:</strong> > 1024px - Full layout with sidebar
    </div>
    <div class="test-item">
      <strong>Tablet:</strong> 768px - 1024px - Adjusted grid
    </div>
    <div class="test-item">
      <strong>Mobile:</strong> < 768px - Mobile menu, stacked layout
    </div>
    <div class="test-item">
      <strong>Small:</strong> < 480px - Single column
    </div>
  </div>

  <div class="test-section">
    <h2>‚úÖ Manual Testing Checklist</h2>
    <div class="test-item">
      <input type="checkbox" id="test1">
      <label for="test1"> Navigate to all pages without errors</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test2">
      <label for="test2"> Switch language (EN ‚Üî AR) and verify RTL layout</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test3">
      <label for="test3"> Add products to cart from shop page</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test4">
      <label for="test4"> View cart and adjust quantities</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test5">
      <label for="test5"> Filter products by category, price, size, color</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test6">
      <label for="test6"> Sort products (price, name, featured)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test7">
      <label for="test7"> Open product detail page and select options</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test8">
      <label for="test8"> Test quick view modal</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test9">
      <label for="test9"> Submit contact form (should show success message)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test10">
      <label for="test10"> Test mobile menu (resize to < 768px)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test11">
      <label for="test11"> Verify cart persists after page refresh</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test12">
      <label for="test12"> Test FAQ accordion (expand/collapse)</label>
    </div>
  </div>

  <div class="test-section">
    <h2>üöÄ Deployment Readiness</h2>
    <div class="test-item">
      <strong>‚úÖ No Build Required:</strong> Upload files directly to any static host
    </div>
    <div class="test-item">
      <strong>‚úÖ No Dependencies:</strong> All libraries loaded via CDN
    </div>
    <div class="test-item">
      <strong>‚úÖ No Backend:</strong> Fully client-side application
    </div>
    <div class="test-item">
      <strong>‚úÖ Images Ready:</strong> Using Unsplash CDN (replace with your own)
    </div>
    <div class="test-item">
      <strong>‚úÖ SEO Ready:</strong> Semantic HTML, meta tags included
    </div>
  </div>

  <script>
    async function testDataFiles() {
      const result = document.getElementById('data-result');
      const status = document.getElementById('data-status');
      result.style.display = 'block';
      result.innerHTML = 'Testing...';
      
      try {
        const [translations, products] = await Promise.all([
          fetch('data/translations.json').then(r => r.json()),
          fetch('data/products.json').then(r => r.json())
        ]);
        
        const tests = [
          { name: 'Translations loaded', pass: translations && translations.en && translations.ar },
          { name: 'English translations exist', pass: Object.keys(translations.en).length > 0 },
          { name: 'Arabic translations exist', pass: Object.keys(translations.ar).length > 0 },
          { name: 'Products loaded', pass: Array.isArray(products) },
          { name: 'Products count', pass: products.length === 8 },
          { name: 'Products have required fields', pass: products.every(p => p.id && p.name && p.price) }
        ];
        
        const passed = tests.filter(t => t.pass).length;
        const total = tests.length;
        
        result.innerHTML = `
          <strong>Results: ${passed}/${total} tests passed</strong><br><br>
          ${tests.map(t => `${t.pass ? '‚úÖ' : '‚ùå'} ${t.name}`).join('<br>')}
        `;
        
        status.textContent = passed === total ? 'PASS' : 'FAIL';
        status.className = 'status ' + (passed === total ? 'pass' : 'fail');
      } catch (error) {
        result.innerHTML = `‚ùå Error: ${error.message}<br><br>Make sure you're running via a local server (not file://)`;
        status.textContent = 'FAIL';
        status.className = 'status fail';
      }
    }
    
    function testLanguage() {
      const result = document.getElementById('lang-result');
      const status = document.getElementById('lang-status');
      result.style.display = 'block';
      
      const currentLang = localStorage.getItem('lang') || 'en';
      const tests = [
        { name: 'LocalStorage accessible', pass: typeof localStorage !== 'undefined' },
        { name: 'Language stored', pass: localStorage.getItem('lang') !== null },
        { name: 'Current language', pass: currentLang === 'en' || currentLang === 'ar' }
      ];
      
      const passed = tests.filter(t => t.pass).length;
      const total = tests.length;
      
      result.innerHTML = `
        <strong>Results: ${passed}/${total} tests passed</strong><br><br>
        ${tests.map(t => `${t.pass ? '‚úÖ' : '‚ùå'} ${t.name}`).join('<br>')}<br><br>
        Current language: <strong>${currentLang.toUpperCase()}</strong><br>
        <em>Switch language on any page to test RTL/LTR switching</em>
      `;
      
      status.textContent = passed === total ? 'PASS' : 'FAIL';
      status.className = 'status ' + (passed === total ? 'pass' : 'fail');
    }
    
    function testCart() {
      const result = document.getElementById('cart-result');
      const status = document.getElementById('cart-status');
      result.style.display = 'block';
      
      // Test cart operations
      const testItem = { id: 1, size: 'M', color: 'white', qty: 1 };
      localStorage.setItem('cart', JSON.stringify([testItem]));
      
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      
      const tests = [
        { name: 'LocalStorage accessible', pass: typeof localStorage !== 'undefined' },
        { name: 'Cart can be saved', pass: localStorage.getItem('cart') !== null },
        { name: 'Cart can be retrieved', pass: Array.isArray(cart) },
        { name: 'Cart items have correct structure', pass: cart.length > 0 && cart[0].id && cart[0].qty }
      ];
      
      const passed = tests.filter(t => t.pass).length;
      const total = tests.length;
      
      result.innerHTML = `
        <strong>Results: ${passed}/${total} tests passed</strong><br><br>
        ${tests.map(t => `${t.pass ? '‚úÖ' : '‚ùå'} ${t.name}`).join('<br>')}<br><br>
        Current cart items: <strong>${cart.length}</strong><br>
        <em>Visit cart.html to see the test item</em>
      `;
      
      status.textContent = passed === total ? 'PASS' : 'FAIL';
      status.className = 'status ' + (passed === total ? 'pass' : 'fail');
    }
    
    function clearCart() {
      localStorage.removeItem('cart');
      alert('Cart cleared! Refresh cart.html to see empty state.');
    }
    
    function testImages() {
      const result = document.getElementById('images-result');
      const status = document.getElementById('images-status');
      result.style.display = 'block';
      result.innerHTML = 'Testing image URLs...';
      
      const testUrls = [
        'https://images.unsplash.com/photo-1622519407650-3df9883f76e6?w=800&h=1200&fit=crop',
        'https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=800&h=1200&fit=crop'
      ];
      
      let loaded = 0;
      let failed = 0;
      
      testUrls.forEach(url => {
        const img = new Image();
        img.onload = () => {
          loaded++;
          if (loaded + failed === testUrls.length) showImageResults();
        };
        img.onerror = () => {
          failed++;
          if (loaded + failed === testUrls.length) showImageResults();
        };
        img.src = url;
      });
      
      function showImageResults() {
        result.innerHTML = `
          <strong>Image Loading Test</strong><br><br>
          ‚úÖ Loaded: ${loaded}/${testUrls.length}<br>
          ${failed > 0 ? `‚ùå Failed: ${failed}/${testUrls.length}<br>` : ''}
          <br><em>All product images use Unsplash CDN and should load automatically</em>
        `;
        
        status.textContent = failed === 0 ? 'PASS' : 'FAIL';
        status.className = 'status ' + (failed === 0 ? 'pass' : 'fail');
      }
    }
  </script>
</body>
</html>
